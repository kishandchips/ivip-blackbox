<!DOCTYPE html>
<html>
	<head>
		<style>
			html, body {
				height: 100%;
			}
			body {
				background: #000 url(images/intro.png) no-repeat center center;
				background-size: 50%;
				color: #FFF;
				padding: 0;
				margin: 0;
			}

		</style>
		<script src="phonegap.js"></script>
		<!--script src="cordova.js"></script-->
		<script>

		document.addEventListener('deviceready', onDeviceReady, false);

		// device APIs are available
		function onDeviceReady() {
			if(navigator.splashscreen) navigator.splashscreen.hide();
			var state = checkConnection();

			if (state != 'none') {

				var website = window.open('http://ivipworld.com/blackbox_app.php', '_self', 'location=yes&hidden=yes');
				
				// website.addEventListener('loadstop', function(event) { 
				// 	setTimeout(function(){
				// 		website.show();
				// 	}, 3000);
				// });

				website.addEventListener('loaderror', function(event) { 
				    window.location.href = 'no_internet.html';
				});

			} else {
			    window.location.href = 'no_internet.html';
			}
		}

		function checkConnection() {
			var networkState = navigator.connection.type,
				states = {};
			
			states[Connection.UNKNOWN] = 'unknown';
			states[Connection.ETHERNET] = 'ethernet';
			states[Connection.WIFI] = 'wifi';
			states[Connection.CELL_2G] = '2g';
			states[Connection.CELL_3G] = '3g';
			states[Connection.CELL_4G] = '4g';
			states[Connection.CELL] = 'generic';
			states[Connection.NONE] = 'none';
		   
			return states[networkState];
		}
		</script>
	</head>
	<body>
	</body>
</html>